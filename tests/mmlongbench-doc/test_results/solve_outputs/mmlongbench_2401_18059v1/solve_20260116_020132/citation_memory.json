{
  "version": "1.1",
  "created_at": "2026-01-16T02:01:32.327143",
  "updated_at": "2026-01-16T02:02:22.749770",
  "citations": [
    {
      "cite_id": "[rag-1]",
      "tool_type": "rag_hybrid",
      "query": "Which nodes are retrieved by RAPTOR for both questions in Figure 4?",
      "raw_result": "In **Figure 4**, which illustrates RAPTOR’s tree-based retrieval process for two questions about the Cinderella story, the system retrieves different sets of nodes depending on the nature of each question:\n\n- **For Question 1 (“What is the central theme of the story?”)** — a *thematic question* requiring holistic understanding — RAPTOR selects **intermediate nodes 16, 17, 18, and 19**. These nodes represent summarized content from higher layers of the hierarchical tree, enabling RAPTOR to provide broader contextual answers that capture overarching narrative elements.\n\n- **For Question 2 (“How did Cinderella find a happy ending?”)** — a *multi-hop question* requiring synthesis across narrative segments — RAPTOR retrieves **root summary node 25** along with the same **intermediate nodes (16, 17, 18, and 19)**. This combination allows RAPTOR to access both high-level thematic summaries and mid-level contextual abstractions necessary to reconstruct the narrative resolution.\n\nThese selections contrast with those made by the **DPR retriever**, which only retrieves leaf nodes (Layer 0), typically missing the synthesized context provided by intermediate and root nodes. RAPTOR’s ability to adaptively select nodes across multiple layers — from leaf to root — enables it to better match the granularity required by each query type.\n\n### References\n\n- [1] Figure 4\n- [2] RAPTOR_Tree_Retrieval_Diagram_Figure_4 (image)\n- [3] Question 1\n- [4] Question 2\n- [5] Intermediate Nodes",
      "source": "Figure 4, RAPTOR_Tree_Retrieval_Diagram_Figure_4, Question 1, Question 2, Intermediate Nodes",
      "content": "In Figure 4, RAPTOR retrieves intermediate nodes 16, 17, 18, and 19 for both questions. For Question 1 (thematic), it selects only these intermediate nodes. For Question 2 (multi-hop), it additionally retrieves root summary node 25. Thus, the common nodes retrieved for both questions are 16, 17, 18, and 19.",
      "stage": "analysis",
      "step_id": null,
      "metadata": {
        "identifier": null,
        "extracted_sources": [
          {
            "reference_id": "[1]",
            "source": "Figure 4",
            "content": "Illustrates RAPTOR’s tree-based retrieval process for two questions about the Cinderella story."
          },
          {
            "reference_id": "[2]",
            "source": "RAPTOR_Tree_Retrieval_Diagram_Figure_4",
            "content": "Image showing node selection patterns for thematic and multi-hop questions."
          },
          {
            "reference_id": "[3]",
            "source": "Question 1",
            "content": "What is the central theme of the story? — answered using intermediate nodes 16, 17, 18, and 19."
          },
          {
            "reference_id": "[4]",
            "source": "Question 2",
            "content": "How did Cinderella find a happy ending? — answered using root node 25 and intermediate nodes 16, 17, 18, and 19."
          },
          {
            "reference_id": "[5]",
            "source": "Intermediate Nodes",
            "content": "Nodes 16, 17, 18, and 19 represent summarized content from higher layers, used for both questions."
          }
        ]
      },
      "created_at": "2026-01-16T02:02:00.445178",
      "updated_at": "2026-01-16T02:02:13.227323"
    }
  ],
  "tool_counters": {
    "rag": 1
  }
}